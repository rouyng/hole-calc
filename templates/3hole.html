{% extends "layout.html" %}
{% block content %}
<div class="content-wrapper">
    <div class="content">
        <div class="pure-g">
            <div class="pure-u-1">
                <h2 class="content-head is-center">Three pin hole measurement</h2>
                <p>Determine the diameter of a hole using the diameters of three gauge pins that fit
                    into it.</p>
                <p>Not sure how to use this calculator? <a href="/guide/">Read the guide</a></p>
            </div>
            <div class="pure-u-1 pure-u-md-1-2">
                <form class="pure-form pure-form-aligned" method="post">
                    {{ form.csrf_token }}
                    <fieldset>
                        <div class="pure-u-1" style="padding-bottom: 0.5em">
                            {# Form nominal radio buttons #}
                            <br>
                            {% for subfield in form.tol_radio %}
                                <div class="pure-u-1-3" onclick="toggleTol()">
                                    {{ subfield.label }} {{ subfield }}
                                </div>
                            {% endfor %}
                        </div>
                        <div class="pure-g">
                            <div class="pure-u-1" style="padding-bottom: 0.5em">
                                {# Pin 1 size #}
                                {{ form.pin1.label }}
                                {{ form.pin1(class="pure-input-1-3", autocomplete="off", style="display: inline-block; margin-bottom: 0em;") }}
                                {# Pin 1 tolerance class #}
                                {{ form.pin1_class(class="pure-input-1-4 tol-params") }}
                                {# Pin 1 tolerance sign #}
                                {{ form.pin1_sign(class="pure-input-1-4 tol-params") }}
                            </div>
                            <div class="pure-u-1" style="padding-bottom: 0.5em">
                                {# Pin 2 size #}
                                {{ form.pin2.label }}
                                {{ form.pin2(class="pure-input-1-3", autocomplete="off", style="display: inline-block; margin-bottom: 0em;") }}
                                {# Pin 2 tolerance class #}
                                {{ form.pin2_class(class="pure-input-1-4 tol-params") }}
                                {# Pin 2 tolerance sign #}
                                {{ form.pin2_sign(class="pure-input-1-4 tol-params") }}
                            </div>
                            <div class="pure-u-1" style="padding-bottom: 0.5em">
                                {# Pin 3 size #}
                                {{ form.pin3.label }}
                                {{ form.pin3(class="pure-input-1-3", autocomplete="off", style="display: inline-block; margin-bottom: 0em;") }}
                                {# Pin 3 tolerance class #}
                                {{ form.pin3_class(class="pure-input-1-4 tol-params") }}
                                {# Pin 3 tolerance sign #}
                                {{ form.pin3_sign(class="pure-input-1-4 tol-params") }}
                            </div>
                            <div class="pure-u-1" style="padding-bottom: 0.5em">
                                {# Form units #}
                                {{ form.units.label }}
                                {{ form.units(class="pure-input-1-4", style="display: inline-block") }}
                                {# Form precision #}
                                {{ form.precision.label }}
                                {{ form.precision(class="pure-input-1-4") }}
                            </div>

                        </div>
                        <div class="pure-u-3-4">
                            {# Form calculate button #}
                            {{ form.calculate(class="pure-button pure-button-primary") }}
                            {# Form clear/reset button #}
                        </div>
                    </fieldset>
                </form>
            </div>
            <div class="pure-u-1 pure-u-md-1-2">
                <table class="pure-table pure-table-horizontal">
                    <thead>
                    <tr>
                        {% if error == True %}
                            <td class="result-error">Error</td>
                        {% else %}
                            <td>Results</td>
                            <td></td>
                        {% endif %}
                    </tr>
                    </thead>
                    <tr>
                        {% with messages = get_flashed_messages() %}
                            {% if messages %}
                                {% for message in messages %}
                                    <tr>
                                        {% for item in message.split(':') %}
                                            <td>{{ item }}</td>
                                        {% endfor %}
                                    </tr>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
{% endblock content %}